<!DOCTYPE html>
<meta charset='utf-8'>
<html>
  <head>
      <style>
            table {
               
                border: 2px black solid;
                font: 9px sans-serif;
                padding: 5px;
            }
            td {
                border: 1px black solid;
                padding: 5px;
                font: 9px;
            }
        </style>
      
        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
		<script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
		<link rel="stylesheet" href="css/bootstrap.min.css" type="text/css"/>
        <script type="text/javascript" src="js/jquery.min.js"></script>
          <script type="text/javascript" src="js/bootstrap.min.js"></script>
 
<!-- Include the plugin's CSS and JS: -->
         <script type="text/javascript" src="js/bootstrap-multiselect.js"></script>
      <link rel="stylesheet" href="css/bootstrap-multiselect.css" type="text/css"/>
    
  </head>
  <body>
      <select id="example-limit" multiple="multiple">
    <option value="Undergraduate">Undergraduate</option>
    <option value="Graduate">Graduate</option>
    <option value="Professional">Professional</option>
    </select>

<div id="dvData"></div>
 
 <script type="text/javascript">
     

     
  
     
          
    $(document).ready(function() {
         var orderCount = 0;
        $('#example-limit').multiselect({
            onChange: function(option, checked) {
                if (checked) {
                    orderCount++;
                    $(option).data('order', orderCount);
                }
                else {
                    $(option).data('order', '');
                }
                
                var selected = [];
                $('#example-limit').each(function() {
                    selected.push([$(this).val()]);
                });
                
                 var text = '';
                    for (var i = 0; i < selected.length; i++) {
                        text += selected[i][0] + ', ';
                 
                    }
               
            
              //console.log(text.substr(0, text.length -2));
               
                    
  
     var parsedCSV1= [];
    d3.text("enrollmentfile.csv", function(data) {
                var parsedCSV = d3.csv.parseRows(data);

                 for (var j=0; j<selected.length; j++){
                     for (var k=0; k < selected[j][0].length; k++){
                       for (var i=0;i<parsedCSV.length;i++){
                                if (i === 0 && j === 0 && k ===0) {parsedCSV1.push(parsedCSV[0]) }
                                else if((parsedCSV[i][2]=== selected[j][0][k]  && parsedCSV[i][0]=== "FS15")){
                                parsedCSV1.push(parsedCSV[i]);
                        }  
                    }  
                }
                        
                     
                      //console.log(selected[j][0].length);
					};
          console.log(parsedCSV1);
        
      
                function update(){
                  //  console.log(parsedCSV1);
                var container = d3.select("#dvData");
                var rows =  container.selectAll("tr")
                        .data(parsedCSV1);
                        
                    
                     rows.enter().append("tr");
                        
                var cells = rows.selectAll("td")
                        .data(function(d) { return d; });
                    
                    cells.enter().append("td");
                    
                    cells.text(function(d) { return d; });
                   
                    cells.exit().remove();
                    rows.exit().remove();
                    
               
                };
        
                 
        
              update();
            }); 
                
            }
            

     
     
        });
    });
     
</script>






      
  </body>
</html>